# 아이템 줍기

## 📌 문제 설명
다음과 같은 다각형 모양 지형에서 캐릭터가 아이템을 줍기 위해 이동하려 합니다.

rect_1.png

지형은 각 변이 x축, y축과 평행한 직사각형이 겹쳐진 형태로 표현하며, 캐릭터는 이 다각형의 둘레(굵은 선)를 따라서 이동합니다.

만약 직사각형을 겹친 후 다음과 같이 중앙에 빈 공간이 생기는 경우, 다각형의 가장 바깥쪽 테두리가 캐릭터의 이동 경로가 됩니다.

rect_2.png

단, 서로 다른 두 직사각형의 x축 좌표 또는 y축 좌표가 같은 경우는 없습니다.

rect_4.png

즉, 위 그림처럼 서로 다른 두 직사각형이 꼭짓점에서 만나거나, 변이 겹치는 경우 등은 없습니다.

다음 그림과 같이 지형이 2개 이상으로 분리된 경우도 없습니다.

rect_3.png

한 직사각형이 다른 직사각형 안에 완전히 포함되는 경우 또한 없습니다.

rect_7.png

지형을 나타내는 직사각형이 담긴 2차원 배열 rectangle, 초기 캐릭터의 위치 characterX, characterY, 아이템의 위치 itemX, itemY가 solution 함수의 매개변수로 주어질 때, 캐릭터가 아이템을 줍기 위해 이동해야 하는 가장 짧은 거리를 return 하도록 solution 함수를 완성해주세요.

---

## 📥 입력 조건
- `rectangle`의 세로(행) 길이는 1 이상 4 이하입니다.
- `rectangle`의 원소는 각 직사각형의 `[좌측 하단 x, 좌측 하단 y, 우측 상단 x, 우측 상단 y]` 좌표 형태입니다.
- 직사각형을 나타내는 모든 좌표값은 1 이상 50 이하인 자연수입니다.
- 서로 다른 두 직사각형의 x축 좌표, 혹은 y축 좌표가 같은 경우는 없습니다.
- 문제에 주어진 조건에 맞는 직사각형만 입력으로 주어집니다.
- `characterX`, `characterY`는 1 이상 50 이하인 자연수입니다.
  - 지형을 나타내는 다각형 테두리 위의 한 점이 주어집니다.
- `itemX`, `itemY`는 1 이상 50 이하인 자연수입니다.
  - 지형을 나타내는 다각형 테두리 위의 한 점이 주어집니다.
- 캐릭터와 아이템의 처음 위치가 같은 경우는 없습니다.
- 전체 배점의 50%는 직사각형이 1개인 경우입니다.
- 전체 배점의 25%는 직사각형이 2개인 경우입니다.
- 전체 배점의 25%는 직사각형이 3개 또는 4개인 경우입니다.

---

## 📤 출력 조건
- 캐릭터가 아이템을 줍기 위해 이동해야 하는 **가장 짧은 거리**를 반환합니다.

---

## 🔍 입출력 예시

| rectangle | characterX | characterY | itemX | itemY | result |
|---|---:|---:|---:|---:|---:|
| [[1,1,7,4],[3,2,5,5],[4,3,6,9],[2,6,8,8]] | 1 | 3 | 7 | 8 | 17 |
| [[1,1,8,4],[2,2,4,9],[3,6,9,8],[6,3,7,7]] | 9 | 7 | 6 | 1 | 11 |
| [[1,1,5,7]] | 1 | 1 | 4 | 7 | 9 |
| [[2,1,7,5],[6,4,10,10]] | 3 | 1 | 7 | 10 | 15 |
| [[2,2,5,5],[1,3,6,4],[3,1,4,6]] | 1 | 4 | 6 | 3 | 10 |

---

## 🧠 해결 아이디어
- 이동은 “테두리(둘레)” 위에서만 가능하므로, 테두리만 그래프(격자)로 만들어 최단거리를 구하면 됩니다.
- 테두리가 겹치거나 코너가 맞닿는 착시(대각선으로 붙는 경우) 때문에 오답이 나기 쉬워,
  좌표를 2배로 확장해서(스케일 업) 테두리/내부를 명확히 구분한 뒤 BFS로 최단거리를 구하는 방식이 많이 사용됩니다.
- 전체 도형을 격자에 표시할 때
  - 직사각형 내부는 “이동 불가”
  - 직사각형의 외곽선(내부가 아닌 경계)만 “이동 가능”
  로 마킹한 뒤 BFS를 수행합니다.

---

## 🧪 주의 사항
- 직사각형이 겹치면서 생기는 “안쪽 테두리”는 이동 경로가 아니고, 가장 바깥쪽 테두리만 경로가 됩니다.
- 좌표를 그대로 쓰면 코너 인접/겹침 처리가 어려워질 수 있으니, 2배 확장(좌표 스케일 업)을 고려해야 합니다.
- BFS 거리 계산 후에는 좌표를 2배로 늘렸다면 최종 거리는 2로 나눠야 합니다.

---

## 🏷️ 분류
- BFS
- 그래프 탐색
- 구현
